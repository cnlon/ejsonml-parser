{"version":3,"file":"ejsonml.parser.js","sources":["../src/index.js"],"sourcesContent":["import htmlparser from 'htmlparser2'\n\nlet stack, v\n\nconst parser = new htmlparser.Parser({\n  onopentag (name, attribs) {\n    v = [name, attribs, [], stack]\n    stack[2].push(v)\n    stack = v\n  },\n  ontext (text) {\n    stack[2].push(text)\n  },\n  onclosetag (tagname) {\n    stack = stack.pop()\n  },\n  oncomment (text) {\n    stack[2].push(`<!--${text}-->`)\n  },\n}, {\n  decodeEntities: true,\n})\n\nexport default function parse (template) {\n  stack = [undefined, undefined, []]\n  template = template.trim()\n  parser.write(template)\n  parser.end()\n  return stack[2][0]\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;MAEI,cAAJ;MAAW,UAAX;EAEA,IAAM,SAAS,IAAI,WAAW,MAAf,CAAsB;AACnC,EAAA,WADmC,qBACxB,IADwB,EAClB,OADkB,EACT;AACxB,EAAA,QAAI,CAAC,IAAD,EAAO,OAAP,EAAgB,EAAhB,EAAoB,KAApB,CAAJ;AACA,EAAA,UAAM,CAAN,EAAS,IAAT,CAAc,CAAd;AACA,EAAA,YAAQ,CAAR;AACD,EAAA,GALkC;AAMnC,EAAA,QANmC,kBAM3B,IAN2B,EAMrB;AACZ,EAAA,UAAM,CAAN,EAAS,IAAT,CAAc,IAAd;AACD,EAAA,GARkC;AASnC,EAAA,YATmC,sBASvB,OATuB,EASd;AACnB,EAAA,YAAQ,MAAM,GAAN,EAAR;AACD,EAAA,GAXkC;AAYnC,EAAA,WAZmC,qBAYxB,IAZwB,EAYlB;AACf,EAAA,UAAM,CAAN,EAAS,IAAT,UAAqB,IAArB;AACD,EAAA;AAdkC,EAAA,CAAtB,EAeZ;AACD,EAAA,kBAAgB;AADf,EAAA,CAfY,CAAf;;AAmBA,EAAe,SAAS,KAAT,CAAgB,QAAhB,EAA0B;AACvC,EAAA,UAAQ,CAAC,SAAD,EAAY,SAAZ,EAAuB,EAAvB,CAAR;AACA,EAAA,aAAW,SAAS,IAAT,EAAX;AACA,EAAA,SAAO,KAAP,CAAa,QAAb;AACA,EAAA,SAAO,GAAP;AACA,EAAA,SAAO,MAAM,CAAN,EAAS,CAAT,CAAP;AACD,EAAA;;;;"}